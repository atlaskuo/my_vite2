import{_ as h,o as c,c as _,r as b,a as t,n as d,t as v,w as u,v as m,F as C,p,b as f,d as y,e as w,f as T,g as S,N as I}from"./Nav-B58Pnd1p.js";const N={props:["tasks"],emits:["taskEdit","taskStar","taskSwap"]},k=a=>(p("data-v-118a8565"),a=a(),f(),a),$={class:"item_flex"},A={class:"left_block"},E={class:"btn_flex"},J=["onClick"],L=["onClick"],O={class:"middle_block"},B={class:"star_block"},R=["onClick"],V=k(()=>t("i",{class:"fas fa-star"},null,-1)),D=[V],F=["onClick"],U=k(()=>t("i",{class:"fas fa-star"},null,-1)),K=[U],M=["onClick"],z=k(()=>t("i",{class:"fas fa-star"},null,-1)),j=[z],q=["onClick"],G=k(()=>t("i",{class:"fas fa-star"},null,-1)),H=[G],P=["onClick"],Q=k(()=>t("i",{class:"fas fa-star"},null,-1)),W=[Q],X=["onUpdate:modelValue"],Y={class:"right_block"},Z={class:"btn_flex"},x=["onClick"],ss=["onClick"];function ts(a,s,i,g,r,l){return c(!0),_(C,null,b(i.tasks,(n,e)=>(c(),_("li",{key:n.id},[t("div",$,[t("div",A,[t("div",E,[t("button",{type:"button",class:"btn_up",onClick:o=>a.$emit("taskSwap",o,e,"up")},"往上",8,J),t("button",{type:"button",class:"btn_down",onClick:o=>a.$emit("taskSwap",o,e,"down")},"往下",8,L)])]),t("div",O,[t("div",B,[t("span",{class:d(["star",{"-on":n.star>=1}]),onClick:o=>a.$emit("taskStar",o,e,1)},D,10,R),t("span",{class:d(["star",{"-on":n.star>=2}]),onClick:o=>a.$emit("taskStar",o,e,2)},K,10,F),t("span",{class:d(["star",{"-on":n.star>=3}]),onClick:o=>a.$emit("taskStar",o,e,3)},j,10,M),t("span",{class:d(["star",{"-on":n.star>=4}]),onClick:o=>a.$emit("taskStar",o,e,4)},H,10,q),t("span",{class:d(["star",{"-on":n.star>=5}]),onClick:o=>a.$emit("taskStar",o,e,5)},W,10,P)]),t("p",{class:d(["para",{"-none":n.editable}])},v(n.name),3),u(t("input",{type:"text",class:d(["task_name_update",{"-none":!n.editable}]),placeholder:"更新待辦事項…","onUpdate:modelValue":o=>n.name=o},null,10,X),[[m,n.name,void 0,{trim:!0}]])]),t("div",Y,[t("div",Z,[t("button",{type:"button",class:"btn_update",onClick:o=>a.$emit("taskEdit",o,e)},"更新",8,x),t("button",{type:"button",class:"btn_delete",onClick:o=>a.$emit("taskRemove",o,e)},"移除",8,ss)])])])]))),128)}const as=h(N,[["render",ts],["__scopeId","data-v-118a8565"]]),es={components:{TaskItem:as},data(){return{taskText:"",tasks:[]}},beforeMount(){let a=JSON.parse(localStorage.getItem("tasks"));a&&(this.tasks=a)},methods:{toggleShadow(){this.$refs.taskAddBlock.classList.toggle("-on")},taskAdd(){this.taskText!=""&&(this.tasks.unshift({id:Date.now(),name:this.taskText,star:0,editable:!1}),this.taskText="",localStorage.setItem("tasks",JSON.stringify(this.tasks)))},taskClear(){if(confirm("are you sure you wanna delete those?")){for(let s=0;s<this.$refs.taskList.children.length;s++)this.$refs.taskList.children[s].classList.add("fade_out");setTimeout(()=>{this.tasks=[],localStorage.clear(),localStorage.removeItem("tasks")},500)}},taskEdit(a,s){this.tasks[s].editable?this.tasks[s].name==""?alert("you must enter something!"):(this.tasks[s].editable=!this.tasks[s].editable,localStorage.setItem("tasks",JSON.stringify(this.tasks))):this.tasks[s].editable=!this.tasks[s].editable},taskStar(a,s,i){this.tasks[s].star=i,localStorage.setItem("tasks",JSON.stringify(this.tasks))},taskSwap(a,s,i){i=="up"&&s!=0&&([this.tasks[s-1],this.tasks[s]]=[this.tasks[s],this.tasks[s-1]],localStorage.setItem("tasks",JSON.stringify(this.tasks))),i=="down"&&s!=this.tasks.length-1&&([this.tasks[s],this.tasks[s+1]]=[this.tasks[s+1],this.tasks[s]],localStorage.setItem("tasks",JSON.stringify(this.tasks)))},taskRemove(a,s){confirm("are you sure you wanna delete this?")&&(a.target.closest("li").classList.add("fade_out"),setTimeout(()=>{this.tasks.splice(s,1),localStorage.setItem("tasks",JSON.stringify(this.tasks))},1e3))}}},os=a=>(p("data-v-982d7659"),a=a(),f(),a),ls={class:"task_container"},ns=os(()=>t("h1",{class:"title1"},"待辦事項",-1)),is={class:"task_add_block",ref:"taskAddBlock"},ds={class:"task_list_parent"},ks={class:"task_list",ref:"taskList"};function rs(a,s,i,g,r,l){const n=y("TaskItem");return c(),_("article",ls,[t("button",{type:"button",class:"btn_empty",onClick:s[0]||(s[0]=(...e)=>l.taskClear&&l.taskClear(...e))},"清空"),ns,t("div",is,[u(t("input",{type:"text",class:"task_name",placeholder:"輸入待辦事項…",onFocus:s[1]||(s[1]=(...e)=>l.toggleShadow&&l.toggleShadow(...e)),onBlur:s[2]||(s[2]=(...e)=>l.toggleShadow&&l.toggleShadow(...e)),"onUpdate:modelValue":s[3]||(s[3]=e=>r.taskText=e),onKeyup:s[4]||(s[4]=w((...e)=>l.taskAdd&&l.taskAdd(...e),["enter"]))},null,544),[[m,r.taskText,void 0,{trim:!0}]]),t("button",{type:"button",class:"task_add",onClick:s[5]||(s[5]=(...e)=>l.taskAdd&&l.taskAdd(...e))},"新增")],512),t("div",ds,[t("ul",ks,[T(n,{tasks:r.tasks,onTaskEdit:l.taskEdit,onTaskStar:l.taskStar,onTaskSwap:l.taskSwap,onTaskRemove:l.taskRemove},null,8,["tasks","onTaskEdit","onTaskStar","onTaskSwap","onTaskRemove"])],512)])])}const cs=h(es,[["render",rs],["__scopeId","data-v-982d7659"]]);S(I).mount("#header");S(cs).mount("#app");
